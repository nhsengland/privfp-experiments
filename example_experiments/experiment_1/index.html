
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.2">
    
    
      
        <title>Experiment 1.0 - Privacy Fingerprint</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#experiment-10" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    


  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Privacy Fingerprint" class="md-header__button md-logo" aria-label="Privacy Fingerprint" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Privacy Fingerprint
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Experiment 1.0
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nhsengland/privfp-experiments" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    privfp-experiments
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../background/" class="md-tabs__link">
          
  
    
  
  Background

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../setup/" class="md-tabs__link">
          
  
    
  
  Setup

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../open-source-llm-exploration/" class="md-tabs__link">
          
  
    
  
  Open source LLM exploration

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../open-source-extraction-exploration/" class="md-tabs__link">
          
  
    
  
  Open source extraction exploration

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../standardisation-research/" class="md-tabs__link">
          
  
    
  
  Standardisation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../correct-match/" class="md-tabs__link">
          
  
    
  
  (Py)Correct Match (Scorer Component)

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../shap-explainer/" class="md-tabs__link">
          
  
    
  
  SHAP(Explainer Component)

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>

<section class="banner">
    <div class="banner-contents md-grid">
        <div class="banner-item md-typeset">
            <span class="twemoji">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14h-2V9h2m0 9h-2v-2h2M1 21h22L12 2 1 21Z"/></svg>
            </span>

            This is an experimental repository and is a work in progress.
        </div>
    </div>
</section>


    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Privacy Fingerprint" class="md-nav__button md-logo" aria-label="Privacy Fingerprint" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Privacy Fingerprint
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nhsengland/privfp-experiments" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    privfp-experiments
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../background/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Background
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Background
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/privfp-background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PrivFp Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/decision-log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decision Log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../setup/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/homebrew-install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. HomeBrew Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/julia-install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Julia Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/environment-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Environment Set-up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/synthea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Setting up Synthea International
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/llm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Install Ollama and set-up Large Language Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/extraction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Install UniversalNER Locally
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../open-source-llm-exploration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Open source LLM exploration
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Open source LLM exploration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-llm-exploration/search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Searching for open source LLMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-llm-exploration/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up open source LLMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-llm-exploration/inference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running inference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-llm-exploration/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating generated outputs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-llm-exploration/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics to assess the quality of generated outputs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../open-source-extraction-exploration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Open source extraction exploration
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Open source extraction exploration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-extraction-exploration/named_entity_research/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open-source Named-Entity Recognition Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../open-source-extraction-exploration/deidentification_research/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    De-identification Methods
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../standardisation-research/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Standardisation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Standardisation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standardisation-research/standardising_entity_values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standardising Entity Types and their Values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standardisation-research/standardising_with_knowledge_graphs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standardising with Knowledge Graphs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../correct-match/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    (Py)Correct Match (Scorer Component)
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            (Py)Correct Match (Scorer Component)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../correct-match/what-is-correct-match/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is Correct Match?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../correct-match/how-correct-match-works/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How does Correct Match Work?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../shap-explainer/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SHAP(Explainer Component)
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            SHAP(Explainer Component)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shap-explainer/what-is-shap-and-why-use-it/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is SHAP and Why use it?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shap-explainer/how-does-shap-work-and-be-applied/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How does SHAP Work and can be Applied?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shap-explainer/additional-reads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Resources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generating-synthetic-patient-data-with-synthea" class="md-nav__link">
    <span class="md-ellipsis">
      Generating synthetic Patient Data with Synthea
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-a-llm-to-generate-synthetic-medical-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Using a LLM to Generate Synthetic Medical Notes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re-extracting-entities-from-the-patient-medical-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Re-extracting Entities from the Patient Medical Notes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Re-extracting Entities from the Patient Medical Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-entities" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalising-entities-extracted-for-scoring" class="md-nav__link">
    <span class="md-ellipsis">
      Normalising Entities Extracted for Scoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniqueness-of-standardised-entity-values" class="md-nav__link">
    <span class="md-ellipsis">
      Uniqueness of Standardised Entity Values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#privacy-risk-explainer-shap" class="md-nav__link">
    <span class="md-ellipsis">
      Privacy Risk Explainer: SHAP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traditional-privacy-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Traditional Privacy Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-work" class="md-nav__link">
    <span class="md-ellipsis">
      Future Work
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Future Work">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#can-we-improve-the-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Can we improve the prompt?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-there-better-language-models-we-can-use" class="md-nav__link">
    <span class="md-ellipsis">
      Are there better language models we can use?**
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-we-improve-our-standardisation-of-the-free-text-ie-before-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      How can we improve our standardisation of the free text (i.e. before extraction)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-can-we-improve-standardisation-after-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      How can we improve standardisation after extraction?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-there-better-ways-to-score-our-privacy-risk" class="md-nav__link">
    <span class="md-ellipsis">
      Are there better ways to score our privacy risk?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-effective-are-traditional-privacy-risks" class="md-nav__link">
    <span class="md-ellipsis">
      How effective are traditional privacy risks?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-the-size-of-a-dataset-effect-the-privacy-risk" class="md-nav__link">
    <span class="md-ellipsis">
      How does the size of a dataset effect the privacy risk?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="experiment-10">Experiment 1.0</h1>
<p><em>This version of <code>Experiment 1.0</code> was run using the repo at commit <a href="">INSERT git SHA</a>, and looks to explore generic clinical notes containing four entities: <code>NHS Number</code>, <code>Person</code>, <code>Date of Birth</code>, and <code>Diagnosis</code>.  We also explore extracting further common entities which weren't explicitly injected.</em></p>
<p>Let's run an experiment with the Privacy Fingerprint (PrivFp) pipeline to understand each modular component, and explore some of the things we can do within each section.</p>
<p>The majority of the experimentation done in this example was done following the structure in <code>notebooks/full_pipeline_example.ipynb</code>.</p>
<h2 id="generating-synthetic-patient-data-with-synthea">Generating synthetic Patient Data with Synthea</h2>
<p>First, we use step one of the <code>full_pipeline_example.ipynb</code> notebook to generate <code>1000</code> synthetic patient records. We specify <code>1000</code> by overriding the experimental config with the following line of code:</p>
<div class="highlight"><pre><span></span><code><span class="go">experimental_config.synthea.population_num = &quot;1000&quot;</span>
</code></pre></div>
<p>Interestingly, this returns to us a list of outputs with a length of <code>954</code>. Currently, our pipeline filters out duplicate patients and <code>"wellness encounters"</code>, so this is expected. We can use the fact that this data is in structured form to check that each record is unique by running the following python code:</p>
<div class="highlight"><pre><span></span><code><span class="n">NHS_number_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">N</span><span class="p">[</span><span class="s2">&quot;NHS_NUMBER&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="n">output_synthea</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">NHS_number_set</span><span class="p">))</span>
</code></pre></div>
<p>which returns <code>954</code>.</p>
<h2 id="using-a-llm-to-generate-synthetic-medical-notes">Using a LLM to Generate Synthetic Medical Notes</h2>
<p>PrivFp has the ability to use multiple different LLM's in a pipeline. In this experiment, we will use <a href="https://ollama.com/library/llama3:8b">Llama 3</a> and <a href="https://ollama.com/library/llama3.1">LLama 3.1</a>, both with around 8 billion parameters.</p>
<p>We will use each model to turn each Synthea structured output into a synthetic medical note.  We use the supplied template prompt (c.f. <a href="../../config/templates/generate/llama3_template.json">Llama 3 template</a>), but we could change this to see how this modifies our unstructured outputs.</p>
<p>Inspecting the outputs from both models, we notice a lot of notes start with: <code>"Here is a clinical note..."</code> or <code>"Clinical Note:"</code>. Clearly, our prompt needs some fine-tuning from someone with specific domain knowledge if we want our notes to be more realistic - as mentioned, this is again easy to change within our pipeline. </p>
<p>Next, looking at NHS Numbers (remember these are synthetic), we see full stops, dashes and commas separating parts of the number. This makes it harder to use simple techniques like regular expressions to extract all NHS Numbers, and so we look to the more advanced methods of entity extraction. </p>
<p>As we would like the NHS Numbers to be of a consistent format, we can run a quick test using regular expressions to see how many we can successfully extract. If they keep the correct format, we expect to see a ten digit number in the clinical note. </p>
<p>We can use the following python code to count the number of times a ten digit number appears (assuming no spaces):</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">nhs_numbers_found</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\b\d</span><span class="si">{10}</span><span class="s1">\b&#39;</span>

<span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">output_llm</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">note</span><span class="p">):</span>
        <span class="n">nhs_numbers_found</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div>
<p>Using notes produced by <code>LLama 3.1</code> we find <code>473</code> NHS Numbers are returned and perhaps somewhat surprisingly, notes produced by <code>LLama 3</code> returns <code>895</code> NHS Numbers. </p>
<h2 id="re-extracting-entities-from-the-patient-medical-notes">Re-extracting Entities from the Patient Medical Notes</h2>
<p>We run extraction using <code>GliNER</code> as our Named Entity Extraction Model. Looking at the plot below, typically more entities are extracted from clinical notes from <code>Llama 3</code> compared to <code>Llama 3.1</code>. This is most obvious with the 'NHS Numbers' entity. </p>
<p><img alt="Bar Chart showing the number of entities extracted" src="../../assets/images/experiment_1_extracted_entities.png" /></p>
<p>We also note that there are often duplicate entities extracted, and thus the total counts are well over <code>954</code>. Taking NHS Numbers from the <code>Llama 3</code> notes as an example, this means that multiple 'NHS Number' entities are extracted from some notes. Of the <code>532</code> notes that contain more than two 'NHS Number' entities, the majority of these come from strings containing "NHS Number" or similar, with <code>441</code> entities having the exact value "NHS Number". <code>886</code> reviews contain some 'NHS Number' entity. </p>
<p>Again using our <code>Llama 3</code> example, looking at the <code>68</code> occasions where no 'NHS Number' was extracted, there are <code>9</code> NHS Numbers generated that can be picked up using our regular expression from earlier. One example of such a note is:</p>
<div class="highlight"><pre><span></span><code>Here is a clinical note for Fannie Stroman&#39;s doctor:

Patient 8136111200, Fannie Stroman, born July 1st, 1970, was seen in the clinic today. She has been diagnosed with perennial allergic rhinitis and presents with ongoing symptoms of nasal congestion, itchy eyes, and sneezing throughout the year.
</code></pre></div>
<p>None of the other notes contain any text relating to "NHS Number".</p>
<h3 id="additional-entities">Additional Entities</h3>
<p>We can also use <code>GliNER</code> to investigate whether other entities are in the notes. Let us consider adding: <code>Email</code>, <code>Gender</code> and <code>Phone Number</code>.</p>
<p>We can add them to the entity extraction <code>entity_list</code> using the following code snippet:</p>
<div class="highlight"><pre><span></span><code><span class="n">experimental_config</span><span class="o">.</span><span class="n">extraction</span><span class="o">.</span><span class="n">entity_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;nhs number&quot;</span><span class="p">,</span>
    <span class="s2">&quot;person&quot;</span><span class="p">,</span>
    <span class="s2">&quot;date of birth&quot;</span><span class="p">,</span>
    <span class="s2">&quot;diagnosis&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gender&quot;</span><span class="p">,</span>
    <span class="s2">&quot;phone number&quot;</span>
<span class="p">]</span>
</code></pre></div>
<p>In both <code>Llama 3</code> and <code>3.1</code>, we find that <code>GliNER</code> was unable to extract any emails, but examples of genders and  phone numbers. Interestingly, the counts for the original entities, such as 'NHS Number' have fallen when additional entities were added (see plot below). For example, it may be that some NHS numbers were mistaken as phone numbers.</p>
<p><img alt="Bar Chart showing the number of entities extracted" src="../../assets/images/experiment_1_extracted_entities_ext.png" /></p>
<p>These interesting quirks when adding new entities support the use of our <a href="../../SPIKE_annotation_tools/README.md">annotation tool</a>. With this tool, you can annotate the notes and add new entities, alongside the entity extraction model. This tool can also help fine-tune the best names to give your entities. For example, <code>mobile number</code> may have been more effective than <code>phone number</code> in some cases.</p>
<h2 id="normalising-entities-extracted-for-scoring">Normalising Entities Extracted for Scoring</h2>
<p>The next step of the pipeline essentially turns our extraction data from a <code>JSON</code> format to tabular data. It does this using one-hot encoding, where each row in the tabular data refers to a single note. If two notes contained the same entities, they would have the same value in the corresponding one-hot encoded column. </p>
<p>Currently, the first instance of an entity in the note is the one used for one-hot encoding. This has some issues. For example, we know that the string "NHS Number:" is often extracted as the 'NHS Number' entity. As this will often appear before the actual number in the notes, it is used instead when we one-hot-encode the data. This issue is something we are aware of, is planned to be fixed in future work, and we have performed some research on other methods of standardisation.</p>
<p>One simple fix (related to the above discussion) would be to ensure the 'NHS Number' entity contains numbers, or does not contain the string "NHS Number".</p>
<h2 id="uniqueness-of-standardised-entity-values">Uniqueness of Standardised Entity Values</h2>
<p>Once we have tabular data, we can start exploring the privacy risk around our dataset. We do this by estimating the uniqueness of each data point as a proxy for re-identification risk. The more unique the data, the more identifiable the individual is likely to be. </p>
<p>The uniqueness is measured using <code>PyCorrectMatch</code> - see the docs for more details. A score of <code>1.0</code> means the row is unique, and <code>0.0</code> means all rows are the fundamentally the same. Currently, in our experiment, the lowest score for any row is 0.999. Therefore, every row is of high risk of re-identification. This makes sense, we have not attempted any de-identification steps. </p>
<p>Let us imagine a theoretical de-identification technique that finds every single NHS Number in dataset and replaces it with a sentinel value. This would mean that in our one-hot encoded dataframe, all values in the 'NHS Number' column would be one of two values - <code>0</code> and <code>1</code>. An encoding of <code>0</code> would refer to NHS Numbers mapped to the sentinel value, and <code>1</code> would refer to no NHS Number being present. </p>
<p>We can alter our transformed dataset using the following line of code:</p>
<div class="highlight"><pre><span></span><code><span class="n">deid_dataset_1</span><span class="p">[</span><span class="s2">&quot;nhs number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">deid_dataset_1</span><span class="p">))]</span>
</code></pre></div>
<p>Let's take this further and make an even more de-identified dataset where all persons are replaced with the initial of their first name, and thus the <code>person</code> column only contains <code>26</code> values.</p>
<div class="highlight"><pre><span></span><code><span class="n">deid_dataset_1</span><span class="p">[</span><span class="s2">&quot;person&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">deid_dataset_1</span><span class="p">))]</span>
</code></pre></div>
<p>For the <code>date of birth</code> column, let's say that the data in de-identified by removing the day, and only keeping the month and year. Assuming all patients are aged between <code>1</code> and <code>80</code>, this would leave <code>960</code> possible months of birth, however we would expect some of duplicates. </p>
<p>We run the below code to generate a random list with duplicates:</p>
<div class="highlight"><pre><span></span><code><span class="n">dob_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">current_int</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">deid_dataset_1</span><span class="p">)):</span>
    <span class="n">dob_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_int</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">current_int</span><span class="o">+=</span><span class="mi">1</span>

<span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">dob_list</span><span class="p">)</span>
</code></pre></div>
<p>This has a small effect on our privacy score. Previously, the lowest score was <code>0.998</code>, whereas now it is <code>0.950</code>. The data is still heavily skewed towards <code>1.0</code>, meaning the majority of individuals are still highly re-identifiable. </p>
<h2 id="privacy-risk-explainer-shap">Privacy Risk Explainer: SHAP</h2>
<p>SHAP can be used as global and row-level measure of feature importance for a machine learning model's predictions.  In our case, SHAP will indicate which variables have the greatest effect on the privacy risk score.</p>
<p>For the raw <code>Llama 3</code> dataset using only the entities <code>person</code>, <code>nhs number</code>, <code>date of birth</code> and <code>diagnosis</code>, the global SHAP values are:</p>
<p><img alt="SHAP Image" src="../../assets/images/global_shap_image_1.png" /></p>
<p>The <code>date of birth</code> entity has the greatest effect on predictions, followed by <code>diagnosis</code>, <code>person</code> and <code>nhs number</code>.</p>
<p>If we apply the de-identification steps we described above, we see the effect this has on the global SHAP values:</p>
<p><img alt="SHAP Image" src="../../assets/images/global_shap_image_2.png" /></p>
<p>We see that <code>person</code> and <code>NHS number</code> now have a reduced impact on the score. This makes sense given our de-identification steps. </p>
<h2 id="traditional-privacy-metrics">Traditional Privacy Metrics</h2>
<p>Finally, our pipeline offers the ability to use traditional privacy metrics via <a href="../../pycanon/pycanon_and_privacy_metrics/">PyCanon</a>. These traditional metrics include <code>k-anonymity</code>, <code>t-closeness</code> and <code>l-diversity</code>. </p>
<p>When applying any de-identification techniques, we get the following values:</p>
<ul>
<li><code>k-anonymity</code>:  <code>1.0</code></li>
<li><code>t-closeness</code>:  <code>0.852</code></li>
<li><code>l-diversity</code>:  <code>1.0</code></li>
</ul>
<p>This implies that even with the de-identification of some of our sensitive values, there still exist specific records that are likely re-identifiable.</p>
<h2 id="future-work">Future Work</h2>
<p>The are various additional routes of investigation that could be taken that we have not covered here.</p>
<h4 id="can-we-improve-the-prompt">Can we improve the prompt?</h4>
<p>Excluding syntax, the prompt for project has not been iterated on since its initial creation for <code>Llama 2</code>.  This could be explored further, perhaps combining with techniques for optimising a prompt, such as few-shot prompting and chain of thought. Could we ensure all the relevant information is included in each note? For added realism, do we occasionally want some information to be in strange formats?</p>
<h4 id="are-there-better-language-models-we-can-use">Are there better language models we can use?**</h4>
<p>We have been using the <code>Llama</code> series of LLMs, but could others be a good fit?</p>
<h4 id="how-can-we-improve-our-standardisation-of-the-free-text-ie-before-extraction">How can we improve our standardisation of the free text (i.e. before extraction)?</h4>
<p>Are there steps we can take to put entities in free text, such as dates, in consistent forms to improve extraction? See our documentation for suggestions <a href="../../standardisation-research/standardising_entity_values/">here</a>.</p>
<h4 id="how-can-we-improve-standardisation-after-extraction">How can we improve standardisation after extraction?</h4>
<p>We have seen that often the text "NHS Number" is extracted alongside the real NHS number in a note, and currently we only use the first extracted entity. Can we integrate smarter ways to deal with this? See our documentation for suggestions <a href="../../standardisation-research/standardising_with_knowledge_graphs/">here</a>.</p>
<h4 id="are-there-better-ways-to-score-our-privacy-risk">Are there better ways to score our privacy risk?</h4>
<p>Is <code>PyCorrectMatch</code> the only option we should include? We have some research <a href="../../pycanon/pycanon_and_privacy_metrics/">here</a>.</p>
<h4 id="how-effective-are-traditional-privacy-risks">How effective are traditional privacy risks?</h4>
<p>How can we better compare our privacy risk score to traditional metrics?</p>
<h4 id="how-does-the-size-of-a-dataset-effect-the-privacy-risk">How does the size of a dataset effect the privacy risk?</h4>
<p>Do more notes always result in less identifiable records?</p>
<p><strong>Further suggestions are welcome!</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/nhsengland" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top", "navigation.footer", "search.suggest", "header.autohide", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>